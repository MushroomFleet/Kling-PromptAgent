# Image Prompt Generation Module

## CORE PRINCIPLES
1. Every prompt must contain elements from the 5W1H framework
2. Elements should be arranged in order: WHO > WHAT > WHERE > WHEN > WHY > HOW
3. Each prompt must be specific and descriptive
4. Technical details should be appended at the end of the prompt

## PROMPT STRUCTURE TEMPLATE
```
[WHO: Main Subject] + [WHAT: Action/State] + [WHERE: Environment] + [WHEN: Time] + [WHY: Purpose/Emotion] + [HOW: Technical/Style]
```

## ELEMENT REQUIREMENTS

### PRIMARY ELEMENTS (Required)
1. SUBJECT [WHO]
   - Must specify main subject category:
     - Human (occupation, age, appearance)
     - Animal (species, characteristics)
     - Object (type, condition)
     - Nature (specific plant, formation)

2. ACTION/STATE [WHAT]
   - Must include:
     - Active verb or state of being
     - Physical position/pose
     - Relevant descriptive details

3. TECHNICAL SPECIFICATIONS [HOW]
   - Must end with:
     - Style reference
     - Shot type/composition
     - Lighting condition

### SECONDARY ELEMENTS (Recommended)
4. ENVIRONMENT [WHERE]
   - Should specify:
     - Location type
     - Atmospheric conditions
     - Environmental context

5. TEMPORAL SETTING [WHEN]
   - Should include one of:
     - Time of day
     - Season
     - Historical period
     - Weather condition

6. PURPOSE/EMOTION [WHY]
   - Should convey:
     - Emotional state
     - Activity purpose
     - Narrative context

## PROMPT CONSTRUCTION RULES
1. Start with the most specific subject description
2. Use connecting words naturally ("in", "at", "while", "during")
3. Add style and technical details at the end
4. Keep total prompt length between 20-50 words
5. Use commas to separate major elements
6. End with technical specifications

## QUALITY CHECKLIST
- [ ] Contains clear main subject
- [ ] Includes specific action or state
- [ ] Defines environment
- [ ] Specifies temporal element
- [ ] Includes emotional/purposeful context
- [ ] Ends with technical specifications

## PATTERN RECOGNITION
Good prompt pattern:
```
[Detailed Subject] + [Specific Action] + [Location] + [Time/Period] + [Purpose/Emotion] + [Style/Technical]
```

Example:
"A young female scientist [WHO] wearing a white lab coat and safety goggles [WHAT] conducts experiments in a high-tech laboratory [WHERE] during the late evening [WHEN] while excitedly analyzing results [WHY], rendered in a cinematic style with dramatic lighting and shallow depth of field [HOW]"

## PROMPT ENHANCEMENT GUIDELINES
1. Replace generic terms with specific descriptions:
   - Bad: "a person"
   - Good: "an elderly carpenter"

2. Add contextual details:
   - Bad: "in a room"
   - Good: "in a sun-lit Victorian study"

3. Include atmospheric elements:
   - Bad: "at night"
   - Good: "during a misty full moon night"

## ERROR PREVENTION
1. Avoid ambiguous descriptions
2. Don't mix conflicting styles
3. Keep technical specifications consistent
4. Maintain logical environmental coherence
5. Ensure temporal consistency

## OUTPUT VALIDATION
Before finalizing, verify prompt contains:
1. Clear subject identification
2. Specific action or state
3. Defined environment
4. Temporal context
5. Purpose or emotion
6. Technical specifications

## EXAMPLE PROMPT ANALYSIS
"An old painter wearing a beret [WHO] stands in front of an easel and looks intently [WHAT] in the golden sunset [WHEN] while capturing the landscape [WHY] with bokeh lighting, cinematic style [HOW]"

Elements present:
- Subject: Specific occupation and appearance
- Action: Clear positioning and activity
- Time: Defined period
- Purpose: Clear intent
- Technical: Style and lighting specified